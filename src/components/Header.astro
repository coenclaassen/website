---
import { NAVIGATION_LINKS } from '../utils/constants';
import { getUrl } from '../utils/url';
---

<header>
  <button type="button" class="menu-toggle" id="menu-toggle" aria-label="Toggle navigation menu">â˜°</button>
  <div class="desktop-menu" id="desktop-menu">
    <nav>
      {NAVIGATION_LINKS.map((link) => {
        let href = link.href;
        if (!link.external && !href.startsWith('mailto:') && !href.startsWith('http')) {
          href = getUrl(href === '/' ? '' : href.slice(1));
        }
        return (
          <a href={href} class="thin" target={link.external ? "_blank" : undefined} rel={link.external ? "noopener noreferrer" : undefined}>
            {link.label}
          </a>
        );
      })}
    </nav>
  </div>
  <div class="mobile-menu" id="mobile-menu">
    {NAVIGATION_LINKS.map((link) => (
      <a href={link.external ? link.href : getUrl(link.href === '/' ? '' : link.href.slice(1))} class="thin" target={link.external ? "_blank" : undefined} rel={link.external ? "noopener noreferrer" : undefined}>
        {link.label}
      </a>
    ))}
  </div>
</header>

<script>
  import { initMenu } from '../utils/menu';
  initMenu();
</script>

